<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>FIDO2 Authentication</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="js/html5shiv.min.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]-->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>

    <script type="module">
        import * as WebSDK from '../js/loginid.web.min.js';

        const dw = new web.default(
            "https://directweb.usw1.loginid.io", "pW2GlAFMYRgHRa0CGMTN7szVIjGAZBsRZnAnA1gT3VThVv86wlI258l5V--1r23_59R-iTcRLbU6sPgi6pGI_Q"
        );
        window.dw = dw;
    </script>

    <script src="script/spa-demo.js"></script>

    <link href="css/prism.css" rel="stylesheet"/>
    <script src="js/prism.js"></script>

</head>
<body onload="checkSession();">
<div class="container" id="content">
    <h1>Welcome to the FIDO2-Democlient!</h1>
    <p>This client demonstrates different features that are available with FIDO2 enabled devices in combination with LoginID features.</p>
    <h4>You are currently logged in as: <strong><span id="idCurrentUser">you are no logged in</span></strong></h4>
    <hr/>
    <ul class="nav nav-tabs">
        <li class="active">
            <a href="#tabOverview" data-toggle="tab">Overview</a>
        </li>
        <li>
            <a href="#tabAuthenticate" data-toggle="tab"
               onclick="getTabContent('tabs/authenticate.tab.html', 'tabAuthenticate');">Authentication</a>
        </li>
        <li>
            <a href="#tabAddAuthenticator" data-toggle="tab" onclick="getTabContent('tabs/addAuthenticator.tab.html', 'tabAddAuthenticator');">Add Authenticator</a>
        </li>
        <li>
            <a href="#tabManageCreds" data-toggle="tab" onclick="getTabContent('tabs/managecreds.tab.html', 'tabManageCreds');">Manage Authenticators (Devices)</a>
        </li>
        <li>
            <a href="#tabCreateTx" data-toggle="tab">Create Transaction Confirmation</a>
        </li>
        <li>
            <a href="#tabGrantTempCred" data-toggle="tab">Grant Temporary Access</a>
        </li>
        <li>
            <a href="#tabReqTempCred" data-toggle="tab">Request Temporary Access</a>
        </li>
        <li>
            <a href="#tabReqAddCred" data-toggle="tab" onclick="getTabContent('tabs/requestauthenticator.tab.html', 'tabReqAddCred');">Request Adding Authenticator</a>
        </li>
        <li>
            <a href="#tabKong" data-toggle="tab" onclick="getTabContent('tabs/kong.tab.html', 'tabKong');">Kong Plugin</a>
        </li>
    </ul>
    <div class="tab-content">
        <div id="tabOverview" class="tab-pane active">
            <h2>Overview</h2>
            <p>Here is a brief overview of the different features that are found behind each menu:</p>
            <table class="table-condensed table-striped">
                <tr>
                    <th text-align="center">Menu</th>
                    <th text-algin="center">Feature</th>
                </tr>
                <tr>
                    <td><strong>Authentication</strong></td>
                    <td>This menu allows users to register and login to you application</td>
                </tr>
                <tr>
                    <td><strong>Add Authenticator</strong></td>
                    <td>Whenever a user requested access to another device, this menu allows the user to authorize an authentication code that was generated on the other device</td>
                </tr>
                <tr>
                    <td><strong>Manage Authenticators (devices)</strong></td>
                    <td>This menu provides a user with a simple interface to manage registered devices (authenticators)</td>
                </tr>
                <tr>
                    <td><strong>Create Transaction Confirmation</strong></td>
                    <td>This menu displays the <strong>Transaction Confirmation</strong> feature which represents a digital receipt for any given transaction</td>
                </tr>
                <tr>
                    <td><strong>Grant Temporary Access</strong></td>
                    <td>The menu enables a user to <strong>grant</strong> temporary access to his account from a device that may not be owned by the user or which does not support FIDO2</td>
                </tr>
                <tr>
                    <td><strong>Request Temporary Access</strong></td>
                    <td>The menu enables a user to <strong>request</strong> temporary access to his account from a device that may not be owned by the user or which does not support FIDO2</td>
                </tr>
                <tr>
                    <td><strong>Request Adding Authenticator</strong></td>
                    <td>The menu enables a user to add additional devices (authenticators) to his account</td>
                </tr>
                <tr>
                    <td><strong>Kong Plugin</strong></td>
                    <td>The menu shows how LoginIDs plugin for Kong may be used to protect APIs by requiring a FIDO2 credential, issued by LoginID</td>
                </tr>
            </table>
        </div>
        <div id="tabAuthenticate" class="tab-pane">
            <p>tabAuthenticate</p>
        </div>
        <div id="tabGrantTempCred" class="tab-pane">
            <p>tabGrantTempCred</p>
        </div>
        <div id="tabAddAuthenticator" class="tab-pane">
            <p>tabAddAuthenticator</p>
        </div>
        <div id="tabCreateTx" class="tab-pane">
            <p>tabCreateTx</p>
        </div>
        <div id="tabManageCreds" class="tab-pane">
            <p>tabManageCreds</p>
        </div>
        <div id="tabReqTempCred" class="tab-pane">
            <p>tabReqTempCred</p>
        </div>
        <div id="tabReqAddCred" class="tab-pane">
            <p>tabReqAddCred</p>
        </div>
        <div id="tabKong" class="tab-pane">
            <p>tabKong</p>
        </div>
    </div>
    <hr/>
    <h3>API Responses</h3>
    <div id="divResponse">Nothing to show</div>
</div>
</body>
</html>