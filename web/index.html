<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>FIDO2 Client Demo</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="js/html5shiv.min.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]-->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>

    <script src="script/spa-demo.js"></script>

    <link href="css/prism.css" rel="stylesheet"/>
    <script src="js/prism.js"></script>
</head>
<body>
<div class="container" id="content">
    <h1>Welcome to the FIDO2-Democlient!</h1>
    <p>This is a demo client of <a href="https://loginid.io" target="_blank"><strong>LoginID</strong></a>.</p>
    <p>This client simulates a <strong>Single Page App (SPA)</strong> that a developer may build.</p>
    <p>Please note that this client is pretty simple. Check the comments in <strong>script/spa-demo.js</strong> to learn
        more about it. However, hopefully it does help to understand how a FIDO2 flow in a SPA works!</p>
    <p>This demo is also used to show how the <a href="https://konghq.com" target="_blank"><strong>Kong</strong></a>
        validation plugin can be used.</p>
    <p>This demo makes a request to Kong which returns an error if no FIDO2 based credential is included in the
        request.</p>
    <hr/>
    <h3>APIs</h3>
    <p><strong>https://catfact.ninja</strong>: the public API which is called directly.</p>
    <p><strong>http://localhost:8090/facts</strong>: the same public API but hosted on Kong as a protected API. A
        request to this API requires a valid FIDO2 credential in the form of a JSON Web Token (JWT), issued by <strong>LoginID</strong>.
    </p>
    <table>
        <tr>
            <td><label for="btnDirect">Direct request:</label></td>
            <td>
                <button id="btnDirect" type="button" class="btn btn-primary btn-sm"
                        onclick="return directCall('https://catfact.ninja/fact');">https://catfact.ninja
                </button>
            </td>
            <td>(client --> cat-fact-API)</td>
        </tr>
        <tr>
            <td><label for="btnProtected">Protected request:</label></td>
            <td>
                <button id="btnProtected" type="button" class="btn btn-primary btn-sm"
                        onclick="return protectedCall('http://localhost:8090/fact');">http://localhost:8090/fact
                </button>
            </td>
            <td>(client --> Kong --> cat-fact-API)</td>
        </tr>
    </table>
    <h3>API Responses</h3>
    <p>The responses of the API calls are displayed below:</p>
    <hr/>
    <div id="divResponse"></div>
</div>
</body>
</html>